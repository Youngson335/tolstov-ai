import{a as A,V as E,N as k,e as H,f as q,h as P,s as T,_ as O,b as j,c as U,d as D}from"./VueAnimatedStickers-ld7PqobQ.js";import{c as t,e,S as f,d as w,a as s,f as g,s as F,p as G,q as W,x as Z,y as J,z as K,B as Q,C as X,D as Y,E as ee,G as se,H as te,I as oe,g as u,k as S,h as d,T as _,t as V,A as R,l as I,r as ne,u as ae,U as ie,i as m,m as y,b as B,F as ce,j as re,V as le}from"./index-B4tK1G1X.js";const de="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M11%205H4.77778C4.30628%205%203.8541%205.1873%203.5207%205.5207C3.1873%205.8541%203%206.30628%203%206.77778V19.2222C3%2019.6937%203.1873%2020.1459%203.5207%2020.4793C3.8541%2020.8127%204.30628%2021%204.77778%2021H17.2222C17.6937%2021%2018.1459%2020.8127%2018.4793%2020.4793C18.8127%2020.1459%2019%2019.6937%2019%2019.2222V13'%20stroke='white'%20stroke-linecap='round'%20stroke-linejoin='round'%20stroke-width='1.2'/%3e%3cpath%20d='M17.6662%203.57198C18.0325%203.20575%2018.5292%203%2019.0471%203C19.5651%203%2020.0618%203.20575%2020.428%203.57198C20.7943%203.93822%2021%204.43494%2021%204.95287C21%205.47081%2020.7943%205.96753%2020.428%206.33376L11.6824%2015.0794L8%2016L8.92059%2012.3176L17.6662%203.57198Z'%20stroke='white'%20stroke-linecap='round'%20stroke-linejoin='round'%20stroke-width='1.2'/%3e%3c/svg%3e",ue={},_e={class:"vue-chat-process"};function pe(i,n){return e(),t("div",_e,[f(i.$slots,"default")])}const ve=A(ue,[["render",pe]]),he={class:"vue-start-chat-message"},me={class:"vue-start-chat-message__stickers"},fe=w({__name:"VueStartChatMessage",setup(i){const n=[{id:1,src:F},{id:2,src:G},{id:3,src:W},{id:4,src:Z},{id:5,src:J},{id:6,src:K},{id:7,src:Q},{id:8,src:X},{id:9,src:Y},{id:10,src:ee},{id:11,src:se},{id:12,src:te},{id:13,src:oe}];return(c,r)=>(e(),t("div",he,[r[0]||(r[0]=s("div",{class:"vue-start-chat-message__text"},[s("h2",null,"Задайте свой вопрос!"),s("p",null,"Привет! Сколько будет 2 + 2?")],-1)),s("div",me,[g(E,{stickers:n})])]))}}),ge={class:"vue-notification"},ke={class:"flex"},Ce={key:0,class:"flex-shrink-0"},ye={class:"notification-svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},we={key:0,"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"},Me={key:1,"fill-rule":"evenodd",d:"M8.485 2.495c.673-1.167 2.357-1.167 3.03 0l6.28 10.875c.673 1.167-.17 2.625-1.516 2.625H3.72c-1.347 0-2.189-1.458-1.515-2.625L8.485 2.495zM10 5a.75.75 0 01.75.75v3.5a.75.75 0 01-1.5 0v-3.5A.75.75 0 0110 5zm0 9a1 1 0 100-2 1 1 0 000 2z","clip-rule":"evenodd"},$e={key:2,"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.28 7.22a.75.75 0 00-1.06 1.06L8.94 10l-1.72 1.72a.75.75 0 101.06 1.06L10 11.06l1.72 1.72a.75.75 0 101.06-1.06L11.06 10l1.72-1.72a.75.75 0 00-1.06-1.06L10 8.94 8.28 7.22z","clip-rule":"evenodd"},Be={class:"notification-prompt-wrap"},Se={class:"notification-prompt-heading"},Ve={class:"notification-prompt-prompt"},Ae={key:0,class:"notification-button-container"},be=w({__name:"VueNotification",props:{type:{type:String},isButtons:{type:Boolean,default:!1},isActionButton:{type:Boolean,default:!1},isCanceledButton:{type:Boolean,default:!1},hasIcon:{type:Boolean,default:!0}},emits:["action","cancel"],setup(i){const n=i,c=u(()=>n.isButtons||n.isActionButton),r=u(()=>n.isButtons||n.isCanceledButton),p=u(()=>c.value||r.value);return(l,v)=>(e(),t("div",ge,[s("div",{class:S(n.type)},[s("div",ke,[i.hasIcon?(e(),t("div",Ce,[(e(),t("svg",ye,[i.type===_(k).SUCCESS?(e(),t("path",we)):d("",!0),i.type===_(k).WARNING?(e(),t("path",Me)):d("",!0),i.type===_(k).ERROR?(e(),t("path",$e)):d("",!0)]))])):d("",!0),s("div",Be,[s("p",Se,[f(l.$slots,"title",{},void 0,!0)]),s("div",Ve,[f(l.$slots,"description",{},void 0,!0)]),p.value?(e(),t("div",Ae,[c.value?(e(),t("button",{key:0,type:"button",class:"notification-button-main",onClick:v[0]||(v[0]=M=>l.$emit("action"))},[f(l.$slots,"actions",{},void 0,!0)])):d("",!0),r.value?(e(),t("button",{key:1,type:"button",class:"notification-button-secondary",onClick:v[1]||(v[1]=M=>l.$emit("cancel"))},[f(l.$slots,"cancel",{},void 0,!0)])):d("",!0)])):d("",!0)])])],2)]))}}),Ne=A(be,[["__scopeId","data-v-bd74745b"]]),xe={class:"vue-toggle-content--p"},Re={class:"vue-toggle-content--span"},Ie=w({__name:"VueToggleContent",props:{options:{}},emits:["update:modelValue","change"],setup(i,{emit:n}){const c=i,r=n,p=()=>{r("change",c.options.id)};return(l,v)=>(e(),t("div",{class:"vue-toggle-content",onClick:p},[s("p",xe,V(c.options.name),1),s("span",Re,V(c.options.span),1)]))}}),Le={class:"chat-view"},ze={class:"chat-view__header container"},Ee={class:"chat-view__buttons"},He=["src"],qe={class:"chat-view__process"},Pe=w({__name:"ChatView",setup(i){const n=[{id:I.BASE,name:"tolstov-ai",span:R.BASE},{id:I.PRO,name:"tolstov-ai",span:R.PRO}],c=ne(),r=H(),p=ae(),l=q(),v=u(()=>p.aiModeValue.aiMode),M=u(()=>p.aiModeValue.aiModeId),h=u(()=>l.notification),$=u(()=>r.chatHistory),b=u(()=>P().responsesAI),N=u(()=>[...$.value].reverse().map(C=>{const a=b.value.find(o=>o.id===C.id)??{id:C.id,response:null};return{question:C,response:a}})),L=()=>{window.location.reload()},x=async()=>{await le(),c.value&&(c.value.scrollTop=0)},z=()=>{r.clearAllHistoryMessages()};return T(),ie(N,x,{deep:!0}),(C,a)=>(e(),t("div",Le,[s("div",ze,[s("div",Ee,[g(O,{onClick:z},{default:m(()=>[a[1]||(a[1]=B(" Новый чат ")),s("img",{class:"chat-view-image",src:_(de),alt:""},null,8,He)]),_:1,__:[1]}),g(Ie,{options:n.find(o=>o.id===M.value),onChange:a[0]||(a[0]=o=>_(p).toggleAiConfig(o))},null,8,["options"])]),s("div",null,[h.value.status?(e(),y(Ne,{key:0,type:h.value.status,"is-action-button":h.value.status!==_(k).SUCCESS,onAction:L},{title:m(()=>a[2]||(a[2]=[B(" Ошибка ")])),description:m(()=>[s("p",null,V(h.value.text),1)]),actions:m(()=>a[3]||(a[3]=[B(" Обновить чат ")])),_:1},8,["type","is-action-button"])):d("",!0)])]),s("div",qe,[g(ve,{ref_key:"chatProcess",ref:c},{default:m(()=>[_(r).chatHistory.length===0?(e(),y(fe,{key:0})):(e(!0),t(ce,{key:1},re(N.value,o=>(e(),t("div",{key:o.question.id,class:"message-container"},[(e(),y(U,{message:o.question.messages,class:S(["question-message",{"question-message__disabled":o.question.id<$.value.length}]),"is-animate":!(o.question.id<$.value.length),key:o.question.id},null,8,["message","class","is-animate"])),h.value.status!==_(k).ERROR?(e(),y(D,{response:o.response.response,"ai-mode":v.value,class:S(["response-message",{"response-message__disabled":o.response.id<b.value.length}]),key:o.response.id},null,8,["response","ai-mode","class"])):d("",!0)]))),128))]),_:1},512),g(j,{onNewMessage:x}),a[4]||(a[4]=s("p",{class:"chat-view__description"}," Перед отправкой сообщения убедитесь, что ваш запрос оформлен в виде вопроса, иначе диалог может показаться немного бессмысленным! ",-1))])]))}}),je=A(Pe,[["__scopeId","data-v-470331f4"]]);export{je as default};
