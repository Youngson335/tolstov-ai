import{d as g,V,e as x,f as y,_ as M,a as S,b as $,c as q}from"./VueAnimatedStickers-CK2xOFI5.js";import{c as i,e as t,L as B,d as w,a as e,f as o,s as N,k as H,l as L,m as b,n as A,p as P,q as R,u as T,x as j,y as I,z,A as E,B as F,r as O,g as l,M as Q,i as p,b as Z,N as v,j as u,O as D,P as G,h as J,Q as f,R as K}from"./index-DAlauK2H.js";const U="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M11%205H4.77778C4.30628%205%203.8541%205.1873%203.5207%205.5207C3.1873%205.8541%203%206.30628%203%206.77778V19.2222C3%2019.6937%203.1873%2020.1459%203.5207%2020.4793C3.8541%2020.8127%204.30628%2021%204.77778%2021H17.2222C17.6937%2021%2018.1459%2020.8127%2018.4793%2020.4793C18.8127%2020.1459%2019%2019.6937%2019%2019.2222V13'%20stroke='white'%20stroke-linecap='round'%20stroke-linejoin='round'%20stroke-width='1.2'/%3e%3cpath%20d='M17.6662%203.57198C18.0325%203.20575%2018.5292%203%2019.0471%203C19.5651%203%2020.0618%203.20575%2020.428%203.57198C20.7943%203.93822%2021%204.43494%2021%204.95287C21%205.47081%2020.7943%205.96753%2020.428%206.33376L11.6824%2015.0794L8%2016L8.92059%2012.3176L17.6662%203.57198Z'%20stroke='white'%20stroke-linecap='round'%20stroke-linejoin='round'%20stroke-width='1.2'/%3e%3c/svg%3e",W={},X={class:"vue-chat-process"};function Y(d,a){return t(),i("div",X,[B(d.$slots,"default")])}const ss=g(W,[["render",Y]]),es={class:"vue-start-chat-message"},ts={class:"vue-start-chat-message__stickers"},as=w({__name:"VueStartChatMessage",setup(d){const a=[{id:1,src:N},{id:2,src:H},{id:3,src:L},{id:4,src:b},{id:5,src:A},{id:6,src:P},{id:7,src:R},{id:8,src:T},{id:9,src:j},{id:10,src:I},{id:11,src:z},{id:12,src:E},{id:13,src:F}];return(n,r)=>(t(),i("div",es,[r[0]||(r[0]=e("div",{class:"vue-start-chat-message__text"},[e("h2",null,"Задайте свой вопрос!"),e("p",null,"Привет! Сколько будет 2 + 2?")],-1)),e("div",ts,[o(V,{stickers:a})])]))}}),rs={class:"chat-view"},cs={class:"chat-view__header container"},is={class:"chat-view__button"},ns=["src"],os={class:"chat-view__process"},ds=w({__name:"ChatView",setup(d){const a=O(),n=x(),r=l(()=>n.chatHistory),h=l(()=>y().responsesAI),m=l(()=>[...r.value].reverse().map(_=>{const c=h.value.find(s=>s.id===_.id);return{question:_,response:c}})),k=async()=>{await K(),a.value&&(a.value.scrollTop=0)},C=()=>{n.clearAllHistoryMessages()};return Q(m,k,{deep:!0}),(_,c)=>(t(),i("div",rs,[e("div",cs,[e("div",is,[o(M,{onClick:C},{default:p(()=>[c[0]||(c[0]=Z(" Новый чат ")),e("img",{class:"chat-view-image",src:v(U),alt:""},null,8,ns)]),_:1,__:[0]})])]),e("div",os,[o(ss,{ref_key:"chatProcess",ref:a},{default:p(()=>[v(n).chatHistory.length===0?(t(),u(as,{key:0})):(t(!0),i(D,{key:1},G(m.value,s=>(t(),i("div",{key:s.question.id,class:"message-container"},[(t(),u($,{message:s.question.messages,class:f(["question-message",{"question-message__disabled":s.question.id<r.value.length}]),"is-animate":!(s.question.id<r.value.length),key:s.question.id},null,8,["message","class","is-animate"])),s.response?(t(),u(q,{response:s.response.response,class:f(["response-message",{"response-message__disabled":s.response.id<h.value.length}]),key:s.response.id},null,8,["response","class"])):J("",!0)]))),128))]),_:1},512),o(S,{onNewMessage:k}),c[1]||(c[1]=e("p",{class:"chat-view__description"}," Перед отправкой сообщения убедитесь, что ваш запрос оформлен в виде вопроса, иначе диалог может показаться немного бессмысленным! ",-1))])]))}}),us=g(ds,[["__scopeId","data-v-cac55176"]]);export{us as default};
